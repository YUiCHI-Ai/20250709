# Netlify対応_テスト仕様書

## テスト概要
希少体験おねだりリストのNetlify対応版についてのテスト仕様書です。

## テスト環境
- **ブラウザ**: Chrome, Firefox, Safari, Edge
- **デバイス**: デスクトップ、タブレット、スマートフォン
- **OS**: Windows, macOS, iOS, Android
- **解像度**: 320px〜1920px

## テストケース

### 1. 基本機能テスト

#### 1.1 アプリ初期化テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 1.1.1 | 初期表示 | URLにアクセス | 作成画面が表示される |
| 1.1.2 | デフォルト選択 | 画面確認 | 火レベル3が選択状態 |
| 1.1.3 | 必須項目表示 | 画面確認 | 名前、店名入力欄が表示 |

#### 1.2 店舗追加テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 1.2.1 | 正常追加 | 店名入力→追加ボタン | リストに追加される |
| 1.2.2 | 空店名エラー | 空欄のまま追加 | エラーメッセージ表示 |
| 1.2.3 | 火レベル選択 | 各レベルクリック | 選択状態が変更される |
| 1.2.4 | URL入力 | 店舗URL入力→追加 | URLも保存される |
| 1.2.5 | 複数店舗追加 | 複数店舗を順次追加 | 全て正常に追加される |

#### 1.3 リスト表示テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 1.3.1 | 現在リスト表示 | 店舗追加後確認 | 追加した店舗が表示 |
| 1.3.2 | 火レベル表示 | 異なるレベルで追加 | 正しい🔥数で表示 |
| 1.3.3 | 削除機能 | 削除ボタンクリック | 該当店舗が削除される |
| 1.3.4 | 空リスト | 全削除後確認 | 共有URLセクション非表示 |

### 2. 共有機能テスト

#### 2.1 URL生成テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 2.1.1 | 正常生成 | 店舗追加後URL生成 | 共有URLが生成される |
| 2.1.2 | 空リストエラー | 空リストでURL生成 | エラーメッセージ表示 |
| 2.1.3 | 名前なし | 名前未入力でURL生成 | 「名無し」で生成 |
| 2.1.4 | 特殊文字 | 特殊文字入り店名 | 正常にエンコード |

#### 2.2 QRコード生成テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 2.2.1 | QRコード表示 | URL生成後確認 | QRコードが表示される |
| 2.2.2 | QRコード読取 | スマホで読み取り | 正しいURLが取得される |
| 2.2.3 | 画像形式 | QRコード確認 | 200x200pxのPNG形式 |

#### 2.3 コピー機能テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 2.3.1 | URLコピー | コピーボタンクリック | クリップボードにコピー |
| 2.3.2 | コピー通知 | コピー実行後確認 | 成功メッセージ表示 |
| 2.3.3 | 共有画面コピー | 共有画面でコピー | 現在URLがコピー |

### 3. 共有画面テスト

#### 3.1 画面遷移テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 3.1.1 | 正常遷移 | 共有URLアクセス | 共有画面が表示される |
| 3.1.2 | 不正データ | 不正なdataパラメータ | 作成画面にリダイレクト |
| 3.1.3 | データなし | dataパラメータなし | 作成画面にリダイレクト |

#### 3.2 共有リスト表示テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 3.2.1 | 所有者名表示 | 共有画面確認 | 「〇〇さんの行きたいお店リスト」表示 |
| 3.2.2 | 店舗リスト表示 | リスト部分確認 | 全店舗が正しく表示 |
| 3.2.3 | 火レベル表示 | 各店舗確認 | 正しい🔥数で表示 |
| 3.2.4 | URLリンク | 店舗名クリック | 新タブで店舗サイト開く |
| 3.2.5 | URLなし店舗 | URL未設定店舗 | クリックできない表示 |

#### 3.3 共有画面操作テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 3.3.1 | 戻るボタン | 戻るボタンクリック | 作成画面に遷移 |
| 3.3.2 | URLコピー | URLコピーボタン | 現在URLがコピー |
| 3.3.3 | ブラウザバック | ブラウザの戻るボタン | 適切に動作 |

### 4. レスポンシブテスト

#### 4.1 スマートフォン（320px-480px）
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 4.1.1 | 画面表示 | スマホでアクセス | 適切にレイアウト |
| 4.1.2 | 火レベル選択 | 各ボタンタップ | 選択状態が変更 |
| 4.1.3 | フォーム入力 | 各入力欄タップ | キーボードが表示 |
| 4.1.4 | ボタン操作 | 各ボタンタップ | 適切に動作 |

#### 4.2 タブレット（481px-768px）
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 4.2.1 | 画面表示 | タブレットでアクセス | 適切にレイアウト |
| 4.2.2 | 横画面 | 横向きに回転 | レイアウト調整 |
| 4.2.3 | タッチ操作 | タッチで各操作 | 適切に動作 |

#### 4.3 デスクトップ（769px以上）
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 4.3.1 | 画面表示 | デスクトップでアクセス | 適切にレイアウト |
| 4.3.2 | マウス操作 | マウスで各操作 | 適切に動作 |
| 4.3.3 | キーボード操作 | Tabキーで移動 | フォーカス移動 |

### 5. ブラウザ互換性テスト

#### 5.1 Chrome
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 5.1.1 | 基本動作 | 全機能実行 | 正常動作 |
| 5.1.2 | コピー機能 | クリップボードAPI | 正常動作 |
| 5.1.3 | QRコード表示 | 外部API呼び出し | 正常表示 |

#### 5.2 Firefox
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 5.2.1 | 基本動作 | 全機能実行 | 正常動作 |
| 5.2.2 | URL処理 | ハッシュ変更検知 | 正常動作 |
| 5.2.3 | データ処理 | エンコード/デコード | 正常動作 |

#### 5.3 Safari
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 5.3.1 | 基本動作 | 全機能実行 | 正常動作 |
| 5.3.2 | タッチ操作 | iOS端末での操作 | 正常動作 |
| 5.3.3 | プライベートモード | プライベートブラウジング | 正常動作 |

#### 5.4 Edge
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 5.4.1 | 基本動作 | 全機能実行 | 正常動作 |
| 5.4.2 | 互換性 | ChromiumベースEdge | 正常動作 |

### 6. エラーハンドリングテスト

#### 6.1 入力検証テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 6.1.1 | 空店名 | 空欄で追加 | エラーメッセージ |
| 6.1.2 | 長い店名 | 100文字以上入力 | 適切に処理 |
| 6.1.3 | 特殊文字 | HTML特殊文字入力 | エスケープ処理 |
| 6.1.4 | 不正URL | 不正なURL形式 | エラー表示 |

#### 6.2 データ処理エラーテスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 6.2.1 | エンコードエラー | 巨大データ処理 | エラーハンドリング |
| 6.2.2 | デコードエラー | 不正データ復号 | エラーハンドリング |
| 6.2.3 | URL長制限 | 極長URL生成 | 適切に処理 |

#### 6.3 ネットワークエラーテスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 6.3.1 | QRコード生成失敗 | ネットワーク切断 | エラーメッセージ |
| 6.3.2 | 外部API失敗 | API応答なし | フォールバック処理 |

### 7. パフォーマンステスト

#### 7.1 読み込み速度テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 7.1.1 | 初期読み込み | ページアクセス | 2秒以内に表示 |
| 7.1.2 | キャッシュ効果 | 2回目アクセス | 1秒以内に表示 |
| 7.1.3 | 画面遷移 | 作成↔共有切り替え | 瞬時に切り替わり |

#### 7.2 操作応答性テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 7.2.1 | ボタン応答 | 各ボタンクリック | 即座に反応 |
| 7.2.2 | 入力応答 | フォーム入力 | 遅延なし |
| 7.2.3 | リスト更新 | 店舗追加/削除 | 即座に更新 |

### 8. セキュリティテスト

#### 8.1 XSS対策テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 8.1.1 | スクリプト注入 | `<script>`タグ入力 | エスケープ処理 |
| 8.1.2 | HTML注入 | HTMLタグ入力 | エスケープ処理 |
| 8.1.3 | イベント注入 | `onclick`等の属性 | エスケープ処理 |

#### 8.2 URL安全性テスト
| No | テスト項目 | 手順 | 期待結果 |
|---|---|---|---|
| 8.2.1 | 不正URL検証 | 不正パラメータ | 適切に検証 |
| 8.2.2 | データ整合性 | 改ざんデータ | エラーハンドリング |

## テスト実行手順

### 1. 事前準備
1. 各ブラウザの最新版を準備
2. 異なるデバイスでテスト環境構築
3. ネットワーク切断テスト用設定

### 2. テスト実行
1. 基本機能テストを各ブラウザで実行
2. レスポンシブテストを各デバイスで実行
3. エラーハンドリングテストを実行
4. パフォーマンステストを実行

### 3. 結果記録
- 各テストケースの実行結果を記録
- 発見したバグを詳細に記録
- 改善提案を含めた報告書作成

## 合格基準
- 全基本機能テスト: 100%パス
- レスポンシブテスト: 100%パス
- ブラウザ互換性テスト: 95%以上パス
- エラーハンドリングテスト: 100%パス
- パフォーマンステスト: 基準値以内
- セキュリティテスト: 100%パス

## 不具合発見時の対応
1. 重要度分類（Critical, High, Medium, Low）
2. 修正優先度決定
3. 修正実装
4. 再テスト実施
5. 修正確認

#2・times.2