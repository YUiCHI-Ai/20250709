# 同一ネットワークアクセス設定ガイド

## 🌐 概要
このガイドでは、希少体験おねだりリストアプリを同一ネットワーク内の他の端末（スマートフォン、タブレット、他のPC）からアクセスできるように設定する方法を説明します。

## 🚀 起動方法

### 1. 推奨方法：自動設定スクリプト
```bash
./setup-local-server.sh
```
このスクリプトが自動的に：
- ローカルIPアドレスを検出
- 利用可能なポートを検索
- 同一ネットワークアクセス用のURLを表示

### 2. Node.js Express サーバー（QRコード対応）
```bash
npm install  # 初回のみ
npm start
```

### 3. Python HTTPサーバー
```bash
python3 start-server.py
```

## 📱 他の端末からのアクセス手順

### ステップ1: 同一Wi-Fiネットワークに接続
- サーバーを起動しているPCと同じWi-Fiネットワークに接続
- 企業ネットワークの場合、ネットワーク管理者に確認が必要な場合があります

### ステップ2: IPアドレスの確認
サーバー起動時に表示される情報を確認：
```
📍 アクセス方法:
   ローカル: http://localhost:3000
   同一ネットワーク: http://192.168.1.100:3000
```

### ステップ3: 他の端末でアクセス
- スマートフォンやタブレットのブラウザで `http://192.168.1.100:3000` にアクセス
- QRコード機能（Node.jsサーバーのみ）: `http://192.168.1.100:3000/api/qr`

## 🔧 ファイアウォール設定

### macOS
1. システム環境設定 > セキュリティとプライバシー > ファイアウォール
2. 「ファイアウォールオプション」をクリック
3. 使用するアプリケーション（Node.js、Python）の受信接続を許可
4. または、該当ポート（3000、8000など）の受信接続を許可

### Windows
1. Windows Defender ファイアウォール > 詳細設定
2. 受信の規則 > 新しい規則
3. ポート > TCP > 特定のローカルポート（3000、8000など）
4. 接続を許可する

## 🔍 トラブルシューティング

### 問題1: 他の端末からアクセスできない
**解決方法:**
1. 同一Wi-Fiネットワークに接続されているか確認
2. ファイアウォール設定を確認
3. IPアドレスが正しいか確認
4. ポート番号が正しいか確認

### 問題2: IPアドレスが表示されない
**解決方法:**
1. ネットワーク接続を確認
2. Wi-Fi接続を一度切断して再接続
3. 手動でIPアドレスを確認：
   ```bash
   # macOS/Linux
   ifconfig | grep "inet "
   
   # Windows
   ipconfig
   ```

### 問題3: QRコードが生成されない
**解決方法:**
1. Node.jsサーバーを使用しているか確認
2. 依存関係をインストール：
   ```bash
   npm install qrcode
   ```

## 📋 対応端末・ブラウザ

### 対応端末
- iPhone/iPad (Safari, Chrome)
- Android (Chrome, Firefox)
- Windows PC (Chrome, Edge, Firefox)
- Mac (Safari, Chrome, Firefox)

### 推奨ブラウザ
- Chrome (最新版)
- Safari (最新版)
- Firefox (最新版)
- Edge (最新版)

## 🔒 セキュリティ注意事項

1. **ローカルネットワークのみ**: このサーバーは同一ネットワーク内でのみアクセス可能
2. **ファイアウォール**: 必要なポートのみを開放
3. **一時的な使用**: 使用後はサーバーを停止（Ctrl+C）
4. **機密情報**: 機密情報を含むデータは避ける

## 💡 便利な機能

### QRコード生成（Node.jsサーバーのみ）
```
GET /api/qr
```
レスポンス例：
```json
{
  "url": "http://192.168.1.100:3000",
  "qrCode": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...",
  "message": "同一ネットワークの他の端末からアクセスできます"
}
```

### ヘルスチェック
```
GET /api/health
```
サーバーの動作状況を確認できます。

## 📞 サポート

問題が解決しない場合は、以下の情報を確認してください：
1. 使用しているOS
2. ネットワーク環境
3. エラーメッセージ
4. 使用している起動方法

---

**注意**: このガイドは開発・テスト環境での使用を想定しています。本番環境での使用には適切なセキュリティ設定が必要です。